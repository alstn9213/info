# closure

사실 "클로저(closure)"라는 용어는 프로그래밍 언어 개념사 쪽에서 유래된 건데, 단어 그대로 직역하면 "닫힌 것"이라는 뉘앙스가 있어서 헷갈리기 쉽다. 직관적으로는 *"밖의 변수를 참조하고 있으니까 열려 있는 것 아닌가?"*라고 생각할 수 있다. 하지만 언어 이론에서는 다음과 같이 본다

`함수 정의 안에 자유변수가 있으면, 그 함수는 열린(open) 식이다. (완전하지 않음)`

그 자유변수가 특정 환경에 묶이면, 그 함수는 더 이상 자유변수가 없는 닫힌(closed) 식이 된다. (완전해짐)

따라서 "closure"라는 이름은 **수학적 의미의 ‘식이 닫히다(closed expression)’**에서 나온 것이다.

## 자유변수와 닫힘(closure)의 의미

자유변수(free variable): 함수 내부에서 쓰이지만 함수의 매개변수나 지역변수로 선언되지 않은 변수
→ 즉, 함수 밖에서 정의된 변수를 말한다.

```js
function outer() {
  let x = 10;   // 자유변수가 될 후보
  function inner() {
    return x + 1;  // inner 안에서는 x가 자유변수
  }
  return inner;
}
```

여기서 inner 함수는 자기 안에 없는 x를 참조하니까, x는 inner에 대해 자유변수이다.

결국 "닫혀있다"라는 표현은 함수와 그 함수가 필요로 하는 자유변수들을 묶어 하나의 ‘닫힌’ 단위로 만든다는 의미이다.


